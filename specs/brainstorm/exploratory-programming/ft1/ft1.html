<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>ft1</title>
    </head>

    <body>
        <div id="timer">1:00</div> <!-- This displays the timer -->
        <br>
        <button id="timer_button" type="button">Start</button> <!-- This is the start button -->

        <script>
            let startButton = document.getElementById("timer_button");
            startButton.addEventListener("click", startTimer); // Calls startTimer() when button is clicked
            
            function startTimer()
            {
                let endTime = new Date().getTime() + 60000; // Gets the current time in ms and adds the length of the timer (in this case 1 minute)
                let x = setInterval(countdown, 1000); // Repeatedly calls countdown() each second

                function countdown()
                {
                    let now = new Date().getTime(); // Gets the current time in ms
                    let distance = endTime - now; // Calculates the amount of time remaining in ms
                    let minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)); // Convert to minutes
                    let seconds = Math.floor((distance % (1000 * 60)) / 1000); // Convert to seconds
                    document.getElementById("timer").innerHTML = minutes + ":" + seconds; // Displays remaining time

                    if(distance < 0)
                    {
                        clearInterval(x); // Stops the repeated countdown() calls
                        document.getElementById("timer").innerHTML = "1:00"; // Resets timer display
                    }
                }
            }
        </script>
    </body>
</html>